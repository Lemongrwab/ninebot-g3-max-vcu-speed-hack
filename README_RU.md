# Segway G3 Max: –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è VCU (—Ä–∞–∑–≥–æ–Ω –∏ —Å–º–µ–Ω–∞ —Ä–µ–≥–∏–æ–Ω–∞)

## ‚ö†Ô∏è –í–Ω–∏–º–∞–Ω–∏–µ
**–ì–∞—Ä–∞–Ω—Ç–∏—è –Ω–∞ —Å–∞–º–æ–∫–∞—Ç –±—É–¥–µ—Ç –∞–Ω–Ω—É–ª–∏—Ä–æ–≤–∞–Ω–∞!**  
–í—ã –≤—ã–ø–æ–ª–Ω—è–µ—Ç–µ –¥–µ–π—Å—Ç–≤–∏—è –Ω–∞ —Å–≤–æ–π —Å—Ç—Ä–∞—Ö –∏ —Ä–∏—Å–∫. –í–æ–∑–º–æ–∂–Ω—ã–µ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:
- –ü–æ–ª–æ–º–∫–∞ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ VCU
- –ù–µ—Å—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å–∞–º–æ–∫–∞—Ç–∞

## üìã –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
1. **–û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ**:
   - –ü—Ä–æ–≥—Ä–∞–º–º–∞—Ç–æ—Ä ST-Link v2
   - –ö–∞–±–µ–ª–∏ DUPON
   - –ü–∞—è–ª—å–Ω–∏–∫ (–¥–ª—è –∫–æ–Ω—Ç–∞–∫—Ç–∞ TP13V3)

2. **–°–æ—Ñ—Ç**:
   - [–î—Ä–∞–π–≤–µ—Ä STLink]
   - [–ü–û –¥–ª—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏](https://github.com/Sharkboy-j/ninebot-g3-max-vcu-speed-hack/releases/latest)

## üõ† –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –¥—Ä–∞–π–≤–µ—Ä (`dpinst_amd64.exe`)
2. –†–∞—Å–ø–∞–∫—É–π—Ç–µ –∞—Ä—Ö–∏–≤ —Å –ü–û –≤ –ø–∞–ø–∫—É **–±–µ–∑ —Ä—É—Å—Å–∫–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤ –≤ –ø—É—Ç–∏**
3. –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã:
   - `dump_memory.bat` - —á—Ç–µ–Ω–∏–µ –¥–∞–º–ø–∞
   - `fix_vcu.exe` - –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è
   - `flash_memory_patched.bat` - –∑–∞–ø–∏—Å—å –ø—Ä–æ—à–∏–≤–∫–∏

## üîå –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ ST-Link
–ü–µ—Ä–µ–¥ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ —Ä–∞—Å–ø–∏–Ω–æ–≤–∫—É —Å–≤–æ–µ–≥–æ ST-Link, –æ–Ω–∞ –º–æ–∂–µ—Ç —Ä–∞–∑–ª–∏—á–∞—Ç—å—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–∞—à–µ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞
![–†–∞—Å–ø–∏–Ω–æ–≤–∫–∞](https://github.com/Sharkboy-j/ninebot-g3-max-vcu-speed-hack/raw/main/img/stlink.png)

**–í–∞–∂–Ω–æ!** –û—Ç–∫–ª—é—á–∏—Ç–µ VCU –æ—Ç —Å–∞–º–æ–∫–∞—Ç–∞ –ø–µ—Ä–µ–¥ —Ä–∞–±–æ—Ç–æ–π.

| –ù–æ–º–µ—Ä | ST-Link | VCU       |
|:-------:|:-------:|:----------|
| 1 | SWDIO   | DIO       |
| 2 | SWCLK   | CLK       |
| 3 | GND     | GND       |
| 4 | 3.3V    | TP13V3*   |
| 5 | GND**   | C45 (–≤—Ä–µ–º–µ–Ω–Ω–æ–µ) |

\*–¢—Ä–µ–±—É–µ—Ç—Å—è –ø–∞–π–∫–∞ (–∫–æ–Ω—Ç–∞–∫—Ç —Ö—Ä—É–ø–∫–∏–π!)
\*\*–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –∑–∞–º—ã–∫–∞–Ω–∏—è –Ω–∞ C45

![–ö–æ–Ω—Ç–∞–∫—Ç—ã](https://github.com/Sharkboy-j/ninebot-g3-max-vcu-speed-hack/raw/main/img/pins.png)

## üîÑ –ü—Ä–æ—Ü–µ—Å—Å –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏

### 1. –°–æ–∑–¥–∞–Ω–∏–µ –¥–∞–º–ø–∞
1. –ó–∞–º–∫–Ω–∏—Ç–µ 5 –ø–∏–Ω (GND) –Ω–∞ C45
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `dump_memory.bat`
3. –ü—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ —Å—Ç—Ä–æ–∫–∏ `oocd\scripts/mem_helper.tcl", line 37` —Ä–∞–∑–æ–º–∫–Ω–∏—Ç–µ –∫–æ–Ω—Ç–∞–∫—Ç
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ —Ñ–∞–π–ª–∞ `MEMORY_G3.bin` (128 –ö–ë)

### 2. –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
–ó–∞–ø—É—Å—Ç–∏—Ç–µ `fix_vcu.exe` –∏ –≤–≤–µ–¥–∏—Ç–µ:
Speed (1-99): <u>**99**</u>
>–ø—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ–ø—É—Å–∫–∞–µ—Ç –≤–≤–æ–¥ 1-255, –Ω–æ –∑–Ω–∞—á–µ–Ω–∏—è –≤—ã—à–µ 99 –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

Change region? (Y/N): <u>**Y**</u>

### 3. –ü—Ä–æ—à–∏–≤–∫–∞
1. –°–Ω–æ–≤–∞ –∑–∞–º–∫–Ω–∏—Ç–µ GND –Ω–∞ C45
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `flash_memory_patched.bat`
3. –†–∞–∑–æ–º–∫–Ω–∏—Ç–µ –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ `oocd\scripts/mem_helper.tcl", line 37`
5. –ü—Ä–æ—Ü–µ—Å—Å –ø–µ—Ä–µ–¥–∞—á–∏ –±—É–¥–µ—Ç –∑–∞–≤–µ—Ä—à—ë–Ω –∫–æ–≥–¥–∞ –≤ –≤—ã–≤–æ–¥–µ –∫–æ–Ω—Å–æ–ª–∏ –º–æ–∂–Ω–æ –±—É–¥–µ—Ç —É–≤–∏–¥–µ—Ç—å —Å—Ç—Ä–æ—á–∫—É –≤–∏–¥–∞ `wrote 131072 bytes from file MEMORY_G3.bin.patched.bin to flash bank 0 at offset 0x00000000 in 3.471415s (36.873 KiB/s)`

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—Å–ª–µ –ø—Ä–æ—à–∏–≤–∫–∏
1. –û—Ç–≤—è–∂–∏—Ç–µ —Å–∞–º–æ–∫–∞—Ç –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ VCU –æ–±—Ä–∞—Ç–Ω–æ –∫ —Å–∞–º–æ–∫–∞—Ç—É –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –æ—Ç–∫–ª—é—á–∏–≤ –æ—Ç STLink
3. –ü—Ä–∏–≤—è–∂–∏—Ç–µ –∑–∞–Ω–æ–≤–æ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ **–æ–±–∞** –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è:
![–ù–∞—Å—Ç—Ä–æ–π–∫–∏](https://github.com/Sharkboy-j/ninebot-g3-max-vcu-speed-hack/raw/main/img/ninebotsettings1.png)

### 5. –§–∏–Ω–∞–ª
–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ —à–∞–≥–∏ 1-3 –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π.  
**–í–∞–∂–Ω–æ!** –ù–µ —Ç—Ä–æ–≥–∞–π—Ç–µ —Å–ª–∞–π–¥–µ—Ä—ã –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ!

## ‚ùå –í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏
- `open failed` ‚Üí –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ STLink –∫ –ü–ö
- `init mode failed` ‚Üí –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ VCU (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ç–∞–∫—Ç—ã)
